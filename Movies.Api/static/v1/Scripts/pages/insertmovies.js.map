{"version":3,"sources":["insertmovies.es6.js"],"names":["window","_proxy","getInterceptor","object","propertyName","attr","_data","undefined","_computedAttrs","setInterceptor","value","updatePostfixAddInterceptor","original","updatePostfixSubtractInterceptor","extend","tag","template","viewModel","define","title","type","file","location","Value","can","sendFile","$form","data","FormData","append","fileUploadRequest","url","processData","contentType","result","trigger"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAC,KAAI,CAACA,OAAOC,MAAZ,EAAoB;AACjBD,SAAOC,MAAP,GAAgB;AACZC,mBAAgB,wBAAUC,MAAV,EAAkBC,YAAlB,EAAgC;AAC5C,QAAID,OAAOE,IAAP,KAAiBF,OAAOG,KAAP,IAAgBH,OAAOG,KAAP,CAAaF,YAAb,MAA+BG,SAAhD,IAA+DJ,OAAOK,cAAP,IAAyBL,OAAOK,cAAP,CAAsBJ,YAAtB,CAAxG,CAAJ,EAAmJ;AAC/I,YAAOD,OAAOE,IAAP,CAAYD,YAAZ,CAAP;AACH,KACD,OAAOD,OAAOC,YAAP,CAAP;AACH,IANW,EAOZK,gBAAgB,wBAAUN,MAAV,EAAkBC,YAAlB,EAAgCM,KAAhC,EAAuC;AACnD,QAAIP,OAAOE,IAAX,EAAiB;AACb,YAAOF,OAAOE,IAAP,CAAYD,YAAZ,EAA0BM,KAA1B,CAAP;AACH,KAFD,MAGK;AACD,YAAOP,OAAOC,YAAP,IAAuBM,KAA9B;AACH;AACJ,IAdW,EAeZC,6BAA6B,qCAAUR,MAAV,EAAkBC,YAAlB,EAAgC;AACzD,QAAIQ,WAAW,KAAKV,cAAL,CAAoBC,MAApB,EAA4BC,YAA5B,CAAf,CACA,KAAKK,cAAL,CAAoBN,MAApB,EAA4BC,YAA5B,EAA0CQ,WAAW,CAArD,EACA,OAAOA,QAAP;AACH,IAnBW,EAoBZC,kCAAkC,0CAAUV,MAAV,EAAkBC,YAAlB,EAAgCM,KAAhC,EAAuC;AACrE,QAAIE,WAAW,KAAKV,cAAL,CAAoBC,MAApB,EAA4BC,YAA5B,CAAf,CACA,KAAKK,cAAL,CAAoBN,MAApB,EAA4BC,YAA5B,EAA0CM,QAAQ,CAAlD,EACA,OAAOE,QAAP;AACH,IAxBW,EAAhB;AA0BH,E,kBAtBc,kDAAcE,MAAd,CAAqB;AAChCC,OAAK,eAD2B;AAEhCC,YAAUA,sBAFsB;AAGhCC,aAAW,4CAAQH,MAAR,CAAe;AACtBI,WAAQ;AACJC,WAAO;AACHC,WAAM,QADH;AAEHV,YAAO;AAFJ,KADH;AAKbW,UAAM;AACLD,WAAM;AADD,KALO;AAQbE,cAAU;AACTC,kCAAOC,aAAP;AADS;AARG,IADc;AAa5BC;AAAA,uEAAU,iBAAgBC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,aADK,GACE,IAAIC,QAAJ,EADF;;AAET,aAAI,uGAAU,CAAV,yBAA4B,CAAhC,EAAmC;AAClCD,eAAKE,MAAL,CAAY,SAAZ,0FAAuB,IAAvB,WAAiC,CAAjC,aAA0C,CAA1C;AACA;AACGC,0BALK,GAKe,oBAAK;AAC5BC,eAAK,aADuB;AAE5BJ,gBAAMA,IAFsB;AAG5BK,uBAAa,KAHe;AAI5BC,uBAAa,KAJe;AAK5Bb,gBAAM;AALsB,UAAL,CALf;;AAYT,uDAAsBU,iBAAtB;AAZS;AAAA,gBAaUA,iBAbV;;AAAA;AAaLI,eAbK;;AAcTR,eAAMS,OAAN,CAAc,OAAd;;AAdS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAb4B,GAAf;AAHqB,EAArB,C","file":"insertmovies.js","sourcesContent":["ï»¿import $ from 'jquery';\r\nimport can from 'can.full';\r\nimport template from 'stache!pages/insertmovies.stache';\r\nimport http from 'services/http';\r\n\r\nexport default can.Component.extend({\r\n    tag: \"insert-movies\",\r\n    template: template,\r\n    viewModel: can.Map.extend({\r\n        define: {\r\n            title: {\r\n                type: 'string',\r\n                value: 'Insert movies'\r\n\t\t\t},\r\n\t\t\tfile: {\r\n\t\t\t\ttype: '*'\r\n\t\t\t},\r\n\t\t\tlocation: {\r\n\t\t\t\tValue: can.Map\r\n\t\t\t}\r\n\t\t},\r\n\t\tsendFile: async function ($form) {\r\n\t\t\tlet data = new FormData();\r\n\t\t\tif (this.file[0].files.length > 0) {\r\n\t\t\t\tdata.append('dataSet', this.file[0].files[0]);\r\n\t\t\t}\r\n\t\t\tlet fileUploadRequest = http({\r\n\t\t\t\turl: '/api/movies',\r\n\t\t\t\tdata: data,\r\n\t\t\t\tprocessData: false,\r\n\t\t\t\tcontentType: false,\r\n\t\t\t\ttype: 'POST'\r\n\t\t\t});\r\n\t\t\tthis.requestPromise = fileUploadRequest;\r\n\t\t\tvar result = await fileUploadRequest;\r\n\t\t\t$form.trigger('reset');\r\n\r\n\t\t}\r\n    })\r\n});"]}