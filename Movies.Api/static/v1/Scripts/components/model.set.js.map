{"version":3,"sources":["model.set.es6.js"],"names":["window","_proxy","getInterceptor","object","propertyName","attr","_data","undefined","_computedAttrs","setInterceptor","value","updatePostfixAddInterceptor","original","updatePostfixSubtractInterceptor","SetterControl","can","Control","init","destination","source","destroy","_super","tag","element","tagData","paths","data","sourceCompute","compute","destinationCompute","originalValue"],"mappings":";;;;;;;;;;;;;;;;;;;AAAC,KAAI,CAACA,OAAOC,MAAZ,EAAoB;AACjBD,SAAOC,MAAP,GAAgB,EACZC,gBAAgB,wBAAUC,MAAV,EAAkBC,YAAlB,EAAgC;AAC5C,QAAID,OAAOE,IAAP,KAAiBF,OAAOG,KAAP,IAAgBH,OAAOG,KAAP,CAAaF,YAAb,MAA+BG,SAAhD,IAA+DJ,OAAOK,cAAP,IAAyBL,OAAOK,cAAP,CAAsBJ,YAAtB,CAAxG,CAAJ,EAAmJ;AAC/I,YAAOD,OAAOE,IAAP,CAAYD,YAAZ,CAAP;AACH,KACD,OAAOD,OAAOC,YAAP,CAAP;AACH,IANW;AAOZK,mBAAgB,wBAAUN,MAAV,EAAkBC,YAAlB,EAAgCM,KAAhC,EAAuC;AACnD,QAAIP,OAAOE,IAAX,EAAiB;AACb,YAAOF,OAAOE,IAAP,CAAYD,YAAZ,EAA0BM,KAA1B,CAAP;AACH,KAFD,MAGK;AACD,YAAOP,OAAOC,YAAP,IAAuBM,KAA9B;AACH;AACJ,IAdW,EAeZC,6BAA6B,qCAAUR,MAAV,EAAkBC,YAAlB,EAAgC;AACzD,QAAIQ,WAAW,KAAKV,cAAL,CAAoBC,MAApB,EAA4BC,YAA5B,CAAf,CACA,KAAKK,cAAL,CAAoBN,MAApB,EAA4BC,YAA5B,EAA0CQ,WAAW,CAArD,EACA,OAAOA,QAAP;AACH,IAnBW,EAoBZC,kCAAkC,0CAAUV,MAAV,EAAkBC,YAAlB,EAAgCM,KAAhC,EAAuC;AACrE,QAAIE,WAAW,KAAKV,cAAL,CAAoBC,MAApB,EAA4BC,YAA5B,CAAf,CACA,KAAKK,cAAL,CAAoBN,MAApB,EAA4BC,YAA5B,EAA0CM,QAAQ,CAAlD,EACA,OAAOE,QAAP;AACH,IAxBW,EAAhB;AA0BH;;AAvBD,KAAIE,gBAAgBC,cAAIC,OAAJ,CAAY;AAC/BC,QAAM,gBAAY;AACjB,0CAAaC,WAAb,CAAyB,uCAAaC,MAAb,EAAzB;AACA,GAH8B;AAI/B,qBAAmB,wBAAY;AAC9B,0CAAaD,WAAb,CAAyB,uCAAaC,MAAb,EAAzB;AACA,GAN8B;AAO/BC,WAAS,mBAAY;AACpB,0CAAaF,WAAb,6CAAyB,IAAzB;AACA,QAAKG,MAAL;AACA;AAV8B,EAAZ,CAApB;;mBAae,6CAASC,GAAT,CAAa,WAAb,EAA0B,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;;AAEpE,MAAIC,QAAQ,sBAAEF,OAAF,EAAWG,IAAX,EAAZ;;AAEA,MAAIC,gBAAgB,wCAAcC,OAAd,uBAAsBH,KAAtB,YAApB;AACA,MAAII,qBAAqB,wCAAcD,OAAd,uBAAsBH,KAAtB,iBAAzB;AACA,MAAIK,gBAAgBD,oBAApB;AACA,MAAIC,kBAAkBvB,SAAtB,EAAiC;AAChCuB,mBAAgB,IAAhB;AACA;AACD,MAAIhB,aAAJ,CAAkBS,OAAlB,EAA2B,EAAEJ,QAAQQ,aAAV,EAAyBT,aAAaW,kBAAtC,EAA0DjB,UAAUkB,aAApE,EAA3B;AACA,EAXc,C","file":"model.set.js","sourcesContent":["ï»¿import can from 'can.full';\r\nimport _ from 'underscore';\r\nimport $ from 'jquery';\r\n\r\nlet SetterControl = can.Control({\r\n\tinit: function () {\r\n\t\tthis.options.destination(this.options.source());\r\n\t},\r\n\t'{source} change': function () {\r\n\t\tthis.options.destination(this.options.source());\r\n\t},\r\n\tdestroy: function () {\r\n\t\tthis.options.destination(this.options.original);\r\n\t\tthis._super();\r\n\t}\r\n});\r\n\r\nexport default can.view.tag(\"model-set\", function (element, tagData) {\r\n\r\n\tvar paths = $(element).data();\r\n\r\n\tvar sourceCompute = tagData.scope.compute(paths.source);\r\n\tvar destinationCompute = tagData.scope.compute(paths.destination);\r\n\tvar originalValue = destinationCompute();\r\n\tif (originalValue === undefined) {\r\n\t\toriginalValue = null;\r\n\t}\r\n\tnew SetterControl(element, { source: sourceCompute, destination: destinationCompute, original: originalValue });\r\n});"]}