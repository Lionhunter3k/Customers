{"version":3,"sources":["model.value.es6.js"],"names":["window","_proxy","getInterceptor","object","propertyName","attr","_data","setInterceptor","value","updatePostfixAddInterceptor","original","updatePostfixSubtractInterceptor","Value","can","Control","init","setFromModel","val","setFromControl","cancel","setFromControlDebounced","_","debounce","element","attrData","valuePath","getAttribute","valueCompute","compute"],"mappings":";;;;;;;;;;;;;;;;;AAAC,QAAI,CAACA,OAAOC,MAAZ,EAAoB;AACjBD,eAAOC,MAAP,GAAgB,EACZC,gBAAgB,wBAAUC,MAAV,EAAkBC,YAAlB,EAAgC;AAC5C,oBAAID,OAAOE,IAAP,IAAeF,OAAOG,KAAtB,IAAgCH,OAAOG,KAAP,CAAaF,YAAb,CAApC,EAAiE;AAC7D,2BAAOD,OAAOE,IAAP,CAAYD,YAAZ,CAAP;AACH,iBACD,OAAOD,OAAOC,YAAP,CAAP;AACH,aANW;AAOZG,4BAAgB,wBAAUJ,MAAV,EAAkBC,YAAlB,EAAgCI,KAAhC,EAAuC;AACnD,oBAAIL,OAAOE,IAAX,EAAiB;AACb,2BAAOF,OAAOE,IAAP,CAAYD,YAAZ,EAA0BI,KAA1B,CAAP;AACH,iBAFD,MAGK;AACD,2BAAOL,OAAOC,YAAP,IAAuBI,KAA9B;AACH;AACJ,aAdW,EAeZC,6BAA6B,qCAAUN,MAAV,EAAkBC,YAAlB,EAAgC;AACzD,oBAAIM,WAAW,KAAKR,cAAL,CAAoBC,MAApB,EAA4BC,YAA5B,CAAf,CACA,KAAKG,cAAL,CAAoBJ,MAApB,EAA4BC,YAA5B,EAA0CM,WAAW,CAArD,EACA,OAAOA,QAAP;AACH,aAnBW,EAoBZC,kCAAkC,0CAAUR,MAAV,EAAkBC,YAAlB,EAAgCI,KAAhC,EAAuC;AACrE,oBAAIE,WAAW,KAAKR,cAAL,CAAoBC,MAApB,EAA4BC,YAA5B,CAAf,CACA,KAAKG,cAAL,CAAoBJ,MAApB,EAA4BC,YAA5B,EAA0CI,QAAQ,CAAlD,EACA,OAAOE,QAAP;AACH,aAxBW,EAAhB;AA0BH;;AAxBD,QAAIE,QAAQC,cAAIC,OAAJ,CAAY;AACpBC,cAAM,gBAAY;AACd,iBAAKC,YAAL;AACH,SAHmB;AAIpB,0BAAkB,cAJE;AAKpBA,sBAAc,wBAAY;AACtB,mDAAaC,GAAb,CAAiB,uCAAaT,KAAb,EAAjB;AACH,SAPmB;AAQpBU,wBAAgB,0BAAY;AACxB,mEAA6BC,MAA7B;AACA,mDAAaX,KAAb,CAAmB,uCAAaS,GAAb,EAAnB;AACH,SAXmB;AAYpBG,iCAAyBC,iBAAEC,QAAF,CAAW,YAAY;AAC5C,iBAAKJ,cAAL;AACH,SAFwB,EAEtB,GAFsB,CAZL;AAepB,iBAAS,yBAfW;AAgBpB,iBAAS,gBAhBW;AAiBpB,kBAAU;AAjBU,KAAZ,CAAZ;;sBAoBe,6CAASb,IAAT,CAAc,iBAAd,EAAiC,UAAUkB,OAAV,EAAmBC,QAAnB,EAA6B;;AAEzE,YAAIC,YAAYF,QAAQG,YAAR,CAAqB,iBAArB,CAAhB;AACA,YAAIC,eAAe,yCAAeC,OAAf,CAAuBH,SAAvB,CAAnB;;AAEA,YAAIb,KAAJ,CAAUW,OAAV,EAAmB,EAAEf,OAAOmB,YAAT,EAAnB;AACH,KANc,C","file":"model.value.js","sourcesContent":["ï»¿import can from 'can';\r\nimport _ from 'lodash';\r\n\r\nvar Value = can.Control({\r\n    init: function () {\r\n        this.setFromModel();\r\n    },\r\n    \"{value} change\": \"setFromModel\",\r\n    setFromModel: function () {\r\n        this.element.val(this.options.value());\r\n    },\r\n    setFromControl: function () {\r\n        this.setFromControlDebounced.cancel();\r\n        this.options.value(this.element.val());\r\n    },\r\n    setFromControlDebounced: _.debounce(function () {\r\n        this.setFromControl();\r\n    }, 300),\r\n    \"keyup\": 'setFromControlDebounced',\r\n    \"input\": 'setFromControl',\r\n    \"change\": 'setFromControl'\r\n});\r\n\r\nexport default can.view.attr(\"can-model-value\", function (element, attrData) {\r\n\r\n    var valuePath = element.getAttribute(\"can-model-value\");\r\n    var valueCompute = attrData.scope.compute(valuePath);\r\n\r\n    new Value(element, { value: valueCompute });\r\n});"]}